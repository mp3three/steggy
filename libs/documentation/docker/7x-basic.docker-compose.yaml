# docker compose -f ./7x-basic.docker-compose.yaml up -d
---
version: '2.2'

volumes:
  dev_7x_mongo:

services:
  dev_7x:
    container_name: dev_7x
    image: formio/formio-enterprise:7.1.5
    ports:
      - "3000:80"
    restart: unless-stopped
    depends_on:
      - dev_7x_mongo
    environment:
      # FILL ME IN
      - LICENSE_KEY=OMqj06JF7oZdgBhYmYKqmPpq1tnlk
      # / FILL ME IN
      - LICENSE_SERVER=https://license.test-form.io
      - MONGO=mongodb://dev_7x_mongo:27017/formio
      - PORTAL_SECRET=big long password
      - JWT_SECRET=another password
      - DB_SECRET=im batman
      - PORTAL_ENABLED=true
      - ADMIN_EMAIL=admin@admin.com
      - ADMIN_PASS=password123

      # Hosted to allow for manipulation of the portal base
      # Make sure to not include this variable copying/pasting to outside form.io
      # - FORMIO_HOSTED=true

  dev_7x_mongo:
    container_name: dev_7x_mongo
    image: mongo:latest
    restart: unless-stopped
    # Expose external port +1
    volumes:
      - 27018:27017
    volumes:
      - dev_7x_mongo:/data/db
